"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[705],{9705:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var t=r(4420),a=r(2791),c=r(4942),s=r(1413),u=r(9439),o=r(422),i={},l=r(3329),p={name:"",number:""},f=function(e){var n=e.onSubmit,r=(0,a.useState)((0,s.Z)({},p)),t=(0,u.Z)(r,2),f=t[0],m=t[1],h=function(e){var n=e.target,r=n.name,t=n.value;m((0,s.Z)((0,s.Z)({},f),{},(0,c.Z)({},r,t)))},d=function(){m((0,s.Z)({},p))},v=(0,o.x0)(),x=(0,o.x0)(),b=f.name,w=f.number;return(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n((0,s.Z)({},f)),d()},className:i.formPhone,children:[(0,l.jsxs)("div",{className:i.formGroup,children:[(0,l.jsx)("label",{className:i.phoneLabel,htmlFor:v,children:"Name"}),(0,l.jsx)("input",{value:b,type:"text",name:"name",required:!0,onChange:h,id:v,placeholder:""})]}),(0,l.jsxs)("div",{className:i.formGroup,children:[(0,l.jsx)("label",{className:i.phoneLabel,htmlFor:x,children:"Number"}),(0,l.jsx)("input",{value:w,type:"tel",name:"number",required:!0,onChange:h,id:x,placeholder:""})]}),(0,l.jsx)("button",{className:i.btnSubmit,type:"submit",children:"Add contact"})]})},m={},h=function(e){var n=e.items,r=e.deleteContact,t=n.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,l.jsxs)("li",{children:[t,": ",a," ",(0,l.jsx)("button",{className:m.btn,onClick:function(){return r(n)},type:"button",children:"Delete"})]},n)}));return(0,l.jsx)("ul",{className:m.list,children:t})},d=r(5653),v=function(e){var n=e.contacts,r=e.filter,t=n.items,a=n.isLoading,c=n.error;if(!r)return n;var s=r.toLowerCase();return{items:t.filter((function(e){return e.name.toLowerCase().includes(s)})),isLoading:a,error:c}},x=r(5861),b=r(7757),w=r.n(b),j=r(5919),k=function(){var e=(0,x.Z)(w().mark((function e(){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.ZP.get("/contacts");case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,x.Z)(w().mark((function e(n){var r,t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.ZP.post("/contacts",n);case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,x.Z)(w().mark((function e(n){var r,t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.ZP.delete("/contacts/".concat(n));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=r(9652),N={wrapper:"my-phone_wrapper__zB9hp"},y=function(){var e=(0,t.v9)(v),n=e.items,r=e.isLoading,c=e.error,s=(0,t.I0)();(0,a.useEffect)((function(){s(function(){var e=function(){var e=(0,x.Z)(w().mark((function e(n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n((0,C.ig)()),e.next=4,k();case 4:r=e.sent,n((0,C.v2)(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,C.I7)(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return e}())}),[s]);return(0,l.jsxs)("div",{className:N.wrapper,children:[(0,l.jsx)("h1",{children:"Phonebook"}),(0,l.jsx)(f,{className:N.phoneForm,onSubmit:function(e){if(function(e){var r=e.name.toLowerCase(),t=n.find((function(e){return e.name.toLowerCase()===r}));return Boolean(t)}(e))return alert("".concat(e.name," is already in contacts"));s(function(e){var n=function(){var n=(0,x.Z)(w().mark((function n(r){var t;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r((0,C.eT)()),n.next=4,g(e);case 4:t=n.sent,r((0,C.TL)(t)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r((0,C.wg)(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return n}(e))}}),(0,l.jsxs)("div",{className:N.listWrapper,children:[(0,l.jsx)("h1",{children:"Contacts"}),(0,l.jsx)("p",{children:"Find contacts by name"}),(0,l.jsx)("input",{className:N.filter,onChange:function(e){var n=e.target;return s((0,d.T)(n.value))},name:"filter",placeholder:""}),r&&(0,l.jsx)("p",{children:"...Loading"}),c&&(0,l.jsx)("p",{children:c}),Boolean(n.length)&&(0,l.jsx)(h,{items:n,deleteContact:function(e){s(function(e){var n=function(){var n=(0,x.Z)(w().mark((function n(r){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r((0,C.lC)()),n.next=4,Z(e);case 4:r((0,C.fJ)(e)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r((0,C.TO)(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();return n}(e))}})]})]})},L=function(){return(0,l.jsx)("div",{children:(0,l.jsx)(y,{})})}}}]);
//# sourceMappingURL=705.e7258a8c.chunk.js.map