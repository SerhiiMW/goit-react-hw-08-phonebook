"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[329],{4329:function(e,n,r){r.r(n),r.d(n,{default:function(){return W}});var t=r(4420),a=r(2791),s=r(4942),c=r(1413),o=r(9439),u=r(422),i="my-phoneForm_formPhone__H5KfX",l="my-phoneForm_phoneLabel__yWIHr",p="my-phoneForm_phoneInput__2L0sW",m="my-phoneForm_btnSubmit__KoASO",f="my-phoneForm_formGroup__D-5sK",h=r(3329),d={name:"",number:""},v=function(e){var n=e.onSubmit,r=(0,a.useState)((0,c.Z)({},d)),t=(0,o.Z)(r,2),v=t[0],x=t[1],_=function(e){var n=e.target,r=n.name,t=n.value;x((0,c.Z)((0,c.Z)({},v),{},(0,s.Z)({},r,t)))},b=function(){x((0,c.Z)({},d))},w=(0,u.x0)(),j=(0,u.x0)(),y=v.name,g=v.number;return(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n((0,c.Z)({},v)),b()},className:i,children:[(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)("label",{className:l,htmlFor:w,children:"Name"}),(0,h.jsx)("input",{className:p,value:y,type:"text",name:"name",required:!0,onChange:_,id:w,placeholder:""})]}),(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)("label",{className:l,htmlFor:j,children:"Number"}),(0,h.jsx)("input",{className:p,value:g,type:"tel",name:"number",required:!0,onChange:_,id:j,placeholder:""})]}),(0,h.jsx)("button",{className:m,type:"submit",children:"Add contact"})]})},x={btn:"my-phoneList_btn__SiAYC"},_=function(e){var n=e.items,r=e.deleteContact,t=n.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,h.jsxs)("li",{className:x.phoneList,children:[t,": ",a," ",(0,h.jsx)("button",{className:x.btn,onClick:function(){return r(n)},type:"button",children:"Delete"})]},n)}));return(0,h.jsx)("ol",{className:x.list,children:t})},b=r(5653),w=function(e){var n=e.contacts,r=e.filter,t=n.items,a=n.isLoading,s=n.error;if(!r)return n;var c=r.toLowerCase();return{items:t.filter((function(e){return e.name.toLowerCase().includes(c)})),isLoading:a,error:s}},j=r(5861),y=r(4687),g=r.n(y),N=r(5919),k=function(){var e=(0,j.Z)(g().mark((function e(){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.ZP.get("/contacts");case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,j.Z)(g().mark((function e(n){var r,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.ZP.post("/contacts",n);case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,j.Z)(g().mark((function e(n){var r,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.ZP.delete("/contacts/".concat(n));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=r(9652),F={wrapper:"my-phone_wrapper__zB9hp",filter:"my-phone_filter__-p+HS",listWrapper:"my-phone_listWrapper__hIK-1"},S=function(){var e=(0,t.v9)(w),n=e.items,r=e.isLoading,s=e.error,c=(0,t.I0)();(0,a.useEffect)((function(){c(function(){var e=function(){var e=(0,j.Z)(g().mark((function e(n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n((0,L.ig)()),e.next=4,k();case 4:r=e.sent,n((0,L.v2)(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n((0,L.I7)(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return e}())}),[c]);return(0,h.jsxs)("div",{className:F.wrapper,children:[(0,h.jsx)("h1",{children:"Phonebook"}),(0,h.jsx)(v,{className:F.phoneForm,onSubmit:function(e){if(function(e){var r=e.name.toLowerCase(),t=n.find((function(e){return e.name.toLowerCase()===r}));return Boolean(t)}(e))return alert("".concat(e.name," is already in contacts"));c(function(e){var n=function(){var n=(0,j.Z)(g().mark((function n(r){var t;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r((0,L.eT)()),n.next=4,C(e);case 4:t=n.sent,r((0,L.TL)(t)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r((0,L.wg)(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return n}(e))}}),(0,h.jsxs)("div",{className:F.listWrapper,children:[(0,h.jsx)("h1",{children:"Contacts"}),(0,h.jsx)("p",{children:"Find contacts by name"}),(0,h.jsx)("input",{className:F.filter,onChange:function(e){var n=e.target;return c((0,b.T)(n.value))},name:"filter",placeholder:""}),r&&(0,h.jsx)("p",{children:"...Loading"}),s&&(0,h.jsx)("p",{children:s}),Boolean(n.length)&&(0,h.jsx)(_,{items:n,deleteContact:function(e){c(function(e){var n=function(){var n=(0,j.Z)(g().mark((function n(r){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r((0,L.lC)()),n.next=4,Z(e);case 4:r((0,L.fJ)(e)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r((0,L.TO)(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();return n}(e))}})]})]})},P="contacts-page_ContactsPageWrapper__zbrDh",W=function(){return(0,h.jsx)("div",{className:P,children:(0,h.jsx)(S,{})})}}}]);
//# sourceMappingURL=329.ec02f1a4.chunk.js.map